import{_ as D,r as l,W as N,i as E,X as G,E as H,c as M,b as a,w as o,e as s,f as $,Y as R,o as b,Z as V,n as q,h as c,y as i}from"./index-ChKRIHQI.js";const z={class:"grading-container"},A={__name:"HomeworkGrading",setup(L){const u=N(),d=$(),r=l(!0),m=l([]),_=l(""),p=u.params.homeworkId,g=u.params.courseId;E(async()=>{await f()});const f=async()=>{r.value=!0;try{const e=await G(p);m.value=e,e.length>0&&(_.value=`作业ID: ${p}`)}catch{H.error("获取提交列表失败")}finally{r.value=!1}},h=()=>{d.push({name:"CourseManage",params:{courseId:g},query:{tab:"homework"}})},v=e=>({1:"未提交",2:"已提交",3:"已批改"})[e]||"未知",k=e=>({1:"info",2:"warning",3:"success"})[e]||"info",y=e=>{d.push({name:"SubmissionGrading",params:{submissionId:e.id}})};return(e,w)=>{const I=s("el-page-header"),n=s("el-table-column"),S=s("el-tag"),T=s("el-button"),x=s("el-table"),B=s("el-card"),C=R("loading");return b(),M("div",z,[a(B,null,{header:o(()=>[a(I,{onBack:h,content:`批改作业 - ${_.value}`},null,8,["content"])]),default:o(()=>[V((b(),q(x,{data:m.value},{default:o(()=>[a(n,{prop:"studentName",label:"学生姓名",width:"180"}),a(n,{prop:"status",label:"状态",width:"120"},{default:o(t=>[a(S,{type:k(t.row.status)},{default:o(()=>[c(i(v(t.row.status)),1)]),_:2},1032,["type"])]),_:1}),a(n,{prop:"submitTime",label:"提交时间"},{default:o(t=>[c(i(t.row.submitTime?new Date(t.row.submitTime).toLocaleString():"N/A"),1)]),_:1}),a(n,{prop:"score",label:"得分",width:"100"}),a(n,{label:"操作",width:"120"},{default:o(t=>[a(T,{size:"small",type:"primary",disabled:t.row.status===1,onClick:W=>y(t.row)},{default:o(()=>[c(i(t.row.status===3?"查看":"批改"),1)]),_:2},1032,["disabled","onClick"])]),_:1})]),_:1},8,["data"])),[[C,r.value]])]),_:1})])}}},Y=D(A,[["__scopeId","data-v-f4169da5"]]);export{Y as default};
