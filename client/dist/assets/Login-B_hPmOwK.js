import{_ as R,u as S,r as g,a as B,c as E,b as s,d as r,e as o,w as a,f as I,o as N,g as U,h as v,l as q,E as p}from"./index-ChKRIHQI.js";import{_ as L}from"./login-illustration-CGKr_K8j.js";const M={class:"login-container"},P={class:"image-container"},z={__name:"Login",setup(F){const b=async l=>{await q(l)},m=I(),w=S(),u=g(null),c=g(!1),t=B({username:"",password:""}),y={background:{color:{value:"transparent"}},particles:{number:{value:50},color:{value:"#888888"},shape:{type:"circle"},opacity:{value:.5},size:{value:2},links:{enable:!0,color:"#cccccc",distance:150,opacity:.4,width:1},move:{enable:!0,speed:3}},interactivity:{events:{onHover:{enable:!0,mode:"grab"},onClick:{enable:!0,mode:"push"}}}},h={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},V=async()=>{var l,e;if(u.value)try{await u.value.validate(),c.value=!0,await w.login(t),p.success("登录成功"),m.push({name:"home"})}catch(n){(e=(l=n.response)==null?void 0:l.data)!=null&&e.message?p.error(n.response.data.message):p.error("登录失败")}finally{c.value=!1}},k=()=>{m.push("/register")};return(l,e)=>{const n=o("Particles"),_=o("el-input"),i=o("el-form-item"),f=o("el-button"),x=o("el-form"),C=o("el-card");return N(),E("div",M,[s(n,{id:"tsparticles",class:"login-particles",particlesInit:b,options:y}),r("div",P,[e[5]||(e[5]=r("img",{src:L,alt:"背景图",class:"center-image"},null,-1)),s(C,{class:"login-card"},{header:a(()=>e[2]||(e[2]=[r("div",{class:"card-header"},[r("h2",null,"欢迎回来"),r("p",null,"登录您的账号")],-1)])),default:a(()=>[s(x,{ref_key:"formRef",ref:u,model:t,rules:h,"label-width":"80px",onSubmit:U(V,["prevent"])},{default:a(()=>[s(i,{label:"用户名",prop:"username"},{default:a(()=>[s(_,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=d=>t.username=d),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),s(i,{label:"密码",prop:"password"},{default:a(()=>[s(_,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=d=>t.password=d),type:"password",placeholder:"请输入密码","show-password":""},null,8,["modelValue"])]),_:1}),s(i,null,{default:a(()=>[s(f,{type:"primary","native-type":"submit",loading:c.value,class:"login-btn"},{default:a(()=>e[3]||(e[3]=[v(" 登录 ")])),_:1,__:[3]},8,["loading"])]),_:1}),s(i,{class:"register-link"},{default:a(()=>[s(f,{text:"",onClick:k},{default:a(()=>e[4]||(e[4]=[v(" 还没有账号？立即注册 ")])),_:1,__:[4]})]),_:1})]),_:1},8,["model"])]),_:1})])])}}},T=R(z,[["__scopeId","data-v-875111f2"]]);export{T as default};
